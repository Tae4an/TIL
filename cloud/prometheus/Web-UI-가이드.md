# Prometheus μ›Ή UI κ°€μ΄λ“
Prometheusλ” μ›Ή μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄Β **λ©”νΈλ¦­ λ°μ΄ν„°, μμ§‘ λ€μƒ, μ„¤μ •, μΏΌλ¦¬ κ²°κ³Ό λ“±**μ„ μ§μ ‘ ν™•μΈν•κ³  λ¨λ‹ν„°λ§ν•  μ μλ” κ°•λ ¥ν• λ„κµ¬λ¥Ό μ κ³µν•λ‹¤. μ•„λλ”Β **μ‹¤λ¬΄μ—μ„ λ°λ“μ‹ μ•μ•„μ•Ό ν•  μ£Όμ” κΈ°λ¥κ³Ό ν™μ©λ²•**μ΄λ‹¤.

---

## π”Ή 1.Β **Targets**Β (`/targets`)

> λ©”νΈλ¦­ μμ§‘ λ€μƒ(νƒ€κ²) μƒνƒ ν™•μΈ
> 
- **μ„μΉ**: μƒλ‹¨ λ©”λ‰΄ β†’Β `Status`Β β†’Β `Targets`
- **μ£Όμ†**:Β `http://localhost:9090/targets`

### β… ν™•μΈ κ°€λ¥ ν•­λ©

- ν„μ¬ Prometheusκ°€ μμ§‘ μ¤‘μΈ μ„λΉ„μ¤ λ©λ΅
- κ° νƒ€κ²μ μƒνƒ (`UP`,Β `DOWN`)
- λ§μ§€λ§‰ μ¤ν¬λ© μ‹κ°„, μ§€μ—° μ‹κ°„, μ—λ¬ λ©”μ‹μ§€

### π’΅ μ‹¤λ¬΄ ν™μ©

- νΉμ • μ„λΉ„μ¤μ—μ„Β **λ©”νΈλ¦­ μμ§‘ μ‹¤ν¨ μ—¬λ¶€ μ¦‰μ‹ ν™•μΈ**
- `DOWN`Β μƒνƒ νƒμ§€ β†’ μ„λΉ„μ¤ λΉ„μ •μƒ, exporter λ¬Έμ  μ—¬λ¶€ ν™•μΈ

---

## π”Ή 2.Β **Graph**Β (`/graph`)

> λ©”νΈλ¦­ μΏΌλ¦¬ λ° μ‹κ°ν™”
> 
- **μ„μΉ**: μƒλ‹¨ λ©”λ‰΄ β†’Β `Graph`
- **μ£Όμ†**: κΈ°λ³Έ λ©”μΈ ν™”λ©΄ (`http://localhost:9090/graph`)

### β… κΈ°λ¥

- PromQL μΏΌλ¦¬ μ…λ ¥ κ°€λ¥
- μ‹¤μ‹κ°„ λλ” κ³Όκ±° λ©”νΈλ¦­ μ‹κ³„μ—΄ κ·Έλν”„ ν™•μΈ
- λ°μ΄ν„° ν‘(table) λ³΄κΈ° μ „ν™ κ°€λ¥

### π’΅ μ‹¤λ¬΄ ν™μ©

- μ£Όμ” λ©”νΈλ¦­ μ΅°ν:Β `up`,Β `http_requests_total`,Β `cpu_usage_seconds_total`Β λ“±
- μμ‹ μΏΌλ¦¬:
    
    ```
    sum(rate(http_requests_total[5m])) by (job)
    increase(node_cpu_seconds_total[1h])
    
    ```
    

---

## π”Ή 3.Β **Metrics**Β (`/metrics`)

> Prometheus μ„λ²„ μμ²΄ λ©”νΈλ¦­ ν™•μΈ
> 
- **μ„μΉ**:Β `Status`Β β†’Β `Metrics`
- **μ£Όμ†**:Β `http://localhost:9090/metrics`

### β… λ‚΄μ©

- Prometheus λ‚΄λ¶€ μ§€ν‘
    
    (μ¤ν¬λ© νμ, μ²λ¦¬ μ‹κ°„, μΏΌλ¦¬ μ‹¤ν–‰ ν†µκ³„, λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ“±)
    

### π’΅ μ‹¤λ¬΄ ν™μ©

- Prometheus μ„λ²„ μμ²΄ λ¨λ‹ν„°λ§μ— ν™μ©
- **μ•λ¦Ό μ„¤μ • λ€μƒ μμ²΄λ„ λ¨λ‹ν„°λ§ κ°€λ¥**

---

## π”Ή 4. κΈ°νƒ€ Status λ©”λ‰΄

| λ©”λ‰΄ | κΈ°λ¥ |
| --- | --- |
| **Configuration** | ν„μ¬ λ΅λ“λ μ„¤μ • νμΌ(prometheus.yml) λ‚΄μ© |
| **Rules** | μ„¤μ •λ μ•λ¦Ό λ£°(Recording Rule, Alerting Rule) μƒνƒ ν™•μΈ |
| **Service Discovery** | λ™μ μΌλ΅ λ°κ²¬λ λ€μƒ λ©λ΅ λ° μƒνƒ ν™•μΈ |
| **TSDB Status** | μ‹κ³„μ—΄ λ°μ΄ν„°λ² μ΄μ¤ λ‚΄λ¶€ μƒνƒ (λ©”λ¨λ¦¬ μ‚¬μ©λ‰, μ²­ν¬ μ λ“±) |

---

## β… μ‹¤λ¬΄μ—μ„ λ°λ“μ‹ ν™•μΈν•΄μ•Ό ν•  ν¬μΈνΈ

| μ„μΉ | μ κ²€ ν•­λ© |
| --- | --- |
| `/targets` | μ„λΉ„μ¤ μμ§‘ μƒνƒ (UP/DOWN), μ¤ν¬λ© μ„±κ³µ μ—¬λ¶€ |
| `/graph` | μ£Όμ” λ©”νΈλ¦­ μΏΌλ¦¬ λ° μ‹κ°ν™” (νΈλν”½, μ—λ¬μ¨ λ“±) |
| PromQL | `rate()`,Β `sum()`,Β `increase()`Β λ“±μΌλ΅ λ©”νΈλ¦­ λ¶„μ„ |
| `/rules` | μ•λ¦Ό λ£° λ™μ‘ μ—¬λ¶€ ν™•μΈ |
| `/metrics` | Prometheus μμ²΄ μ„±λ¥κ³Ό μ΄μƒ μ—¬λ¶€ νƒμ§€ |

---

## π”„ μμ‹ μ‚¬μ© νλ¦„

1. *`/targets`*μ—μ„ μμ§‘ λ€μƒ μƒνƒ ν™•μΈ
2. *`/graph`*μ—μ„ PromQL μΏΌλ¦¬λ΅ μ£Όμ” λ©”νΈλ¦­ ν™•μΈ
3. *`/rules`*μ—μ„ μ•λ¦Ό μ„¤μ • μƒνƒ κ²€ν† 
4. *`/metrics`*μ—μ„ Prometheus μ„λ²„ μμ²΄ μƒνƒ μ§„λ‹¨

---

## π“ λ³΄μ¶© ν: PromQL μ‹¤μ „ μμ‹

| λ©μ  | μμ‹ μΏΌλ¦¬ |
| --- | --- |
| λ¨λ“  μ„λΉ„μ¤ μƒνƒ ν™•μΈ | `up` |
| μ—λ¬ λΉ„μ¨ ν™•μΈ | `rate(http_requests_total{status=~"5.."}[5m])` |
| CPU μ‚¬μ©λ‰ | `rate(node_cpu_seconds_total{mode!="idle"}[1m])` |
| ν‰κ·  μ‘λ‹µ μ‹κ°„ | `avg_over_time(http_request_duration_seconds[5m])` |

---

## π“ μ”μ•½

| κΈ°λ¥ | μ£Όμ† | μ£Όμ” ν™μ© |
| --- | --- | --- |
| **Targets** | `/targets` | μμ§‘ λ€μƒ μƒνƒ ν™•μΈ |
| **Graph** | `/graph` | λ©”νΈλ¦­ μΏΌλ¦¬/μ‹κ°ν™” |
| **Metrics** | `/metrics` | Prometheus μμ²΄ λ©”νΈλ¦­ ν™•μΈ |
| **Configuration / Rules** | `/status`Β ν•μ„ λ©”λ‰΄ | μ„¤μ • λ° μ•λ¦Ό λ£° μ κ²€ |

---

## β… κ²°λ΅ 

Prometheusμ μ›Ή UIλ” λ‹¨μν• λ¨λ‹ν„°λ§ λ„κµ¬λ¥Ό λ„μ–΄Β **μ„λΉ„μ¤ μ΄μμ ν•µμ‹¬ μ§„λ‹¨ λ„κµ¬**λ‹¤.

**λ©”νΈλ¦­ μμ§‘ μƒνƒ, μΏΌλ¦¬ κΈ°λ° λ¶„μ„, λ‚΄λ¶€ μ§€ν‘ ν™•μΈ, μ•λ¦Ό λ£° μ κ²€κΉμ§€ ν†µν•©μ μΌλ΅ μ κ³µ**λλ©°,

**μ‹¤μ‹κ°„ λ€μ‘κ³Ό μ§€μ†μ μΈ μ„±λ¥ κ°μ„ μ„ μ„ν• κΈ°λ° μ—­ν• **μ„ ν•λ‹¤.