# 트레이스(Trace), 메트릭(Metric), 로그(Log)의 차이와 특징

## 1. 로그 (Log)

로그는 시스템이나 애플리케이션에서 발생한 개별 이벤트의 상세 기록이다.  
주로 텍스트 형태로 남기며, 이벤트의 시간, 위치, 상태, 에러 등 구체적인 정보를 담는다.

### 특징

- 상세하고 정성적인(qualitative) 데이터
- 구조화되지 않거나 반구조화된 경우 많음
- 데이터 양 많아질 수 있음
- 디버깅, 문제 추적, 감사(audit) 목적에 적합

### 예시

```
[2025-04-29 13:00:00] ERROR: User 'kim' failed to login. Reason: invalid password.
```

### 주요 활용

- 에러 발생 시 원인 분석
- 서비스 동작 흐름 파악
- 보안 감사

---

## 2. 메트릭 (Metric)

메트릭은 시스템이나 애플리케이션의 상태를 수치(숫자)로 표현한 데이터이다.  
CPU 사용률, 요청 수, 에러율, 응답 시간 등 집계 및 측정 가능한 값을 다룬다.

### 특징

- 정량적(quantitative)이고 구조화된 데이터
- 집계 및 시각화가 용이함
- 데이터 용량 상대적으로 적음
- 알람, 대시보드, 장기 트렌드 분석에 적합

### 예시

- CPU 사용률: 75%
- 1분간 HTTP 요청 수: 1,200건
- 에러율: 0.5%

### 주요 활용

- 서비스 상태 모니터링
- 성능 지표 관리
- 이상 탐지 및 알람 설정

---

## 3. 트레이스 (Trace)

트레이스는 하나의 요청이나 트랜잭션이 여러 서비스(특히 마이크로서비스 환경)를 거치며 처리되는 전체 경로를 기록한 데이터이다.  
각 단계의 소요 시간과 연관 관계도 함께 기록된다.

### 특징

- 분산 시스템에서 요청 흐름을 시각적으로 보여줌
- 각 단계(스팬, span)별 상세 정보와 시간 측정
- 병목 구간, 지연 원인, 서비스 간 의존성 파악에 효과적
- 데이터 용량 큼, 샘플링을 통해 저장 비용 관리 필요

### 예시

- 사용자가 상품 주문 → 주문 서비스 → 결제 서비스 → 재고 서비스 순으로 요청 흐름 기록

### 주요 활용

- 분산 시스템 성능 병목 분석
- 장애 원인 추적
- 서비스 간 호출 관계 분석

---

## 비교 요약

| 구분        | 로그(Log)                       | 메트릭(Metric)                  | 트레이스(Trace)                     |
|-------------|----------------------------------|----------------------------------|--------------------------------------|
| 데이터 형태 | 텍스트, 이벤트 중심              | 숫자, 집계 데이터                | 요청/트랜잭션의 경로 및 단계별 정보  |
| 목적        | 상세 이벤트 기록, 디버깅, 감사     | 상태 모니터링, 알람, 트렌드 분석 | 요청 흐름 분석, 병목 및 의존성 파악  |
| 데이터량    | 많음, 장기 보관 비용 큼           | 적음, 장기 보관 유리             | 많음, 샘플링 필요                    |
| 활용 예시   | 에러 로그, 접근 로그              | CPU 사용률, 에러율, 요청 수       | 주문 요청의 전체 처리 경로와 소요 시간 |

---

## 정리

- **로그**: 무슨 일이, 언제, 왜 발생했는지 상세히 기록
- **메트릭**: 지금 시스템이 어떤 상태인지 수치로 요약
- **트레이스**: 하나의 요청이 시스템 내에서 어떻게 흘러갔는지 시각적으로 표현

세 가지 모두를 적절히 활용하면 시스템 상태와 문제를 빠르고 정확하게 파악할 수 있다.