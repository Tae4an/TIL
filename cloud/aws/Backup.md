# AWS Backup이란?

## 개념 정의
AWS Backup은 **여러 AWS 서비스와 하이브리드 워크로드에 대한 데이터 백업을 중앙에서 통합 관리하고 자동화하는 완전 관리형 백업 서비스**다. 정책 기반(Policy-based)으로 백업 스케줄·보존 기간·라이프사이클을 정의하면, AWS Backup이 자동으로 백업을 수행하고 저장·복구까지 관리한다.

쉽게 말해 "EC2, RDS, DynamoDB 등 다양한 AWS 리소스의 백업을 하나의 콘솔에서 자동으로 관리하고, 재해 복구·랜섬웨어 대응·규정 준수까지 지원하는 통합 백업 플랫폼"이다.

## 핵심 특징

**중앙 집중식 백업 관리**
- 단일 콘솔·API·CLI로 모든 AWS 서비스의 백업을 통합 관리
- 서비스별로 개별 백업 설정할 필요 없음
- 백업 현황을 한눈에 파악 가능

**정책 기반 자동화**
- 백업 계획(Backup Plan)으로 스케줄·보존 기간·라이프사이클 정책 정의
- 태그 기반으로 리소스 자동 할당
- 커스텀 스크립트·수동 프로세스 불필요

**완전 관리형 서비스**
- 인프라 프로비저닝·패치·관리 불필요
- 자동 스케일링, 가용성·내구성 AWS 보장
- 엑사바이트 규모까지 확장 가능

**크로스 리전·크로스 계정 백업**
- 여러 AWS 리전에 백업 자동 복제
- 다른 AWS 계정으로 백업 복사
- 재해 복구(DR) 및 규정 준수 요구사항 충족

**랜섬웨어 방어**
- 불변(Immutable) 백업 생성 (삭제·수정 불가)
- 논리적 에어갭(Air-gapped) 백업 볼트
- 백업 멀웨어 스캔
- 다층 방어 전략 구현

**자동 복원 테스트**
- 백업이 실제로 복원 가능한지 자동 검증
- 정기적 복원 테스트로 백업 무결성 확인

**규정 준수 및 감사**
- 실시간 분석·인사이트 제공
- 백업 활동 로그·리포트 자동 생성
- HIPAA, PCI DSS, GDPR 등 규제 준수

## 지원 AWS 서비스

**컴퓨팅**
- Amazon EC2 인스턴스 (Windows VSS 포함)
- Amazon EBS 볼륨

**데이터베이스**
- Amazon RDS (모든 엔진)
- Amazon Aurora
- Amazon DynamoDB
- Amazon Neptune
- Amazon DocumentDB

**스토리지**
- Amazon EFS (Elastic File System)
- Amazon FSx (Windows File Server, Lustre, NetApp ONTAP)
- AWS Storage Gateway (Volume Gateway)

**하이브리드**
- VMware 워크로드 (온프레미스 및 VMware Cloud on AWS)

**기타**
- Amazon S3 (특정 기능)
- AWS Timestream

## 주요 구성 요소

### 1. 백업 계획(Backup Plan)
- 백업 정책을 정의하는 템플릿
- 백업 규칙(Backup Rule) 포함:
  - 백업 스케줄 (예: 매일 새벽 2시)
  - 백업 윈도우 (백업 시작 시간 범위)
  - 라이프사이클 정책 (콜드 스토리지 전환, 삭제 시점)
  - 크로스 리전·크로스 계정 복사 규칙

### 2. 백업 볼트(Backup Vault)
- 백업을 저장하는 논리적 컨테이너
- KMS 암호화 키로 백업 암호화
- 접근 제어(IAM 정책, Vault Lock)
- 불변 백업 설정 가능

### 3. 복구 포인트(Recovery Point)
- 특정 시점의 백업 스냅샷
- 백업 볼트에 저장
- 복구 시 이 포인트로 복원

### 4. 리소스 할당(Resource Assignment)
- 백업 대상 리소스를 백업 계획에 연결
- 방법:
  - 리소스 ID로 직접 지정
  - 태그 기반 자동 할당 (예: `Backup:Daily` 태그 자동 백업)

### 5. 백업 선택(Backup Selection)
- 백업 계획에 포함할 리소스 선택 기준
- 리소스 타입·태그·ARN으로 필터링

## 백업 유형

### Full Backup (전체 백업)
- 리소스의 모든 데이터를 백업
- AWS KMS로 자동 암호화
- 독립적으로 복원 가능

### Incremental Backup (증분 백업)
- 마지막 백업 이후 변경된 데이터만 백업
- 스토리지·전송 비용 절감
- EBS, RDS 등 대부분의 서비스가 증분 백업 지원

### Continuous Backup (연속 백업)
- 특정 서비스(RDS, Aurora, DynamoDB, S3)에서 지원
- 최대 35일까지 초 단위 시점 복구(PITR, Point-in-Time Recovery)
- 사용자 실수·애플리케이션 오류 복구에 유용

## 주요 기능

### 자동 백업 스케줄링
- Cron 표현식 또는 빈도(매시간, 매일, 매주, 매월) 지정
- 백업 윈도우 설정으로 백업 시작 시간 제어
- 자동으로 정해진 시간에 백업 수행

### 라이프사이클 관리
- 백업을 콜드 스토리지(AWS Backup Vault Tier)로 자동 전환
- 비용 최적화 (콜드 스토리지는 저렴)
- 보존 기간 만료 시 자동 삭제

### 크로스 리전 백업
- 소스 리전에서 백업 → 타깃 리전으로 자동 복사
- 재해 복구(DR) 전략
- 지리적 분산으로 데이터 보호 강화

### 크로스 계정 백업
- 중앙 백업 계정에서 여러 계정의 백업 통합 관리
- AWS Organizations 연동
- 백업 거버넌스 강화

### 백업 암호화
- 저장 시(At Rest) AWS KMS로 자동 암호화
- 전송 중(In Transit) TLS 암호화
- 커스텀 KMS 키 사용 가능

### 복원(Restore)
- 콘솔·CLI·API로 간단히 복원
- 동일 리전·다른 리전·다른 계정으로 복원 가능
- 시점 복구(PITR) 지원 (서비스별 상이)

### 태그 기반 백업
- 특정 태그가 붙은 리소스 자동 백업
- 예: `Environment:Production` 태그 → 자동 백업
- 신규 리소스도 태그만 붙이면 자동 포함

### 백업 모니터링 및 알림
- AWS CloudWatch·EventBridge 연동
- 백업 성공·실패 알림
- 백업 작업 상태 추적

### 규정 준수 리포팅
- 백업 활동 대시보드
- 백업 준수율·상태 리포트
- 감사 로그(AWS CloudTrail)

## 작동 방식

### 1. 백업 계획 생성
```
AWS Backup 콘솔 → 백업 계획 생성
  - 백업 규칙 정의 (일정, 보존 기간)
  - 백업 볼트 선택
  - 라이프사이클·크로스 리전 설정
```

### 2. 리소스 할당
```
리소스 할당 → 태그 또는 리소스 ID로 선택
  - 예: tag:Backup=Daily
  - EC2, RDS, DynamoDB 등 자동 포함
```

### 3. 자동 백업 수행
```
스케줄 시간 도래 → AWS Backup 자동 백업 실행
  - 스냅샷 생성
  - 백업 볼트에 저장
  - 암호화 적용
```

### 4. 백업 저장 및 관리
```
백업 볼트 → 복구 포인트 저장
  - 라이프사이클 정책 적용
  - 콜드 스토리지 전환
  - 보존 기간 만료 시 자동 삭제
```

### 5. 복원
```
복원 필요 시 → 복구 포인트 선택
  - 원본 또는 새 리소스로 복원
  - 크로스 리전·크로스 계정 복원 가능
```

## 주요 활용 사례

**재해 복구(Disaster Recovery)**
- 크로스 리전 백업으로 리전 장애 대응
- 자동 복원 테스트로 DR 계획 검증
- RTO·RPO 목표 달성

**랜섬웨어 방어**
- 불변 백업으로 암호화 공격 대응
- 논리적 에어갭으로 백업 격리
- 멀웨어 스캔으로 안전한 백업 보장

**규정 준수**
- HIPAA, PCI DSS, GDPR 등 백업 보존 요구사항 충족
- 감사 로그·리포트 자동 생성
- 백업 활동 추적 및 증명

**비즈니스 연속성**
- 정기 백업으로 데이터 손실 최소화
- 빠른 복구로 다운타임 감소
- 사용자 실수·애플리케이션 오류 복구

**데이터 마이그레이션**
- 크로스 계정·크로스 리전으로 데이터 복사
- 개발·테스트 환경 복제
- 인수합병(M&A) 시 데이터 통합

## 비용

**스토리지 비용**
- 백업 데이터 저장량 기준 GB당 과금
- 콜드 스토리지: 더 저렴 (장기 보관용)
- 서비스별·리전별 요금 상이

**복원 비용**
- 백업 복원 시 데이터 전송·처리 비용
- GB당 과금

**스냅샷 전송 비용**
- 크로스 리전 복사 시 데이터 전송 비용 발생

**예시 (us-east-1 기준)**
- Warm Storage: 약 $0.05 per GB/month
- Cold Storage: 약 $0.01 per GB/month
- Restore: 약 $0.02 per GB

## 모범 사례

**3-2-1 백업 규칙**
- 3개 백업 복사본
- 2가지 다른 미디어
- 1개는 오프사이트(다른 리전)

**태그 전략 수립**
- 백업 정책별 태그 정의
- 일관된 태그 명명 규칙
- 신규 리소스 자동 포함

**라이프사이클 최적화**
- 최근 백업: Warm Storage
- 오래된 백업: Cold Storage
- 비용 vs 복구 속도 균형

**크로스 리전 백업**
- 중요 데이터는 여러 리전에 복사
- DR 시나리오별 복원 계획 수립

**정기 복원 테스트**
- 자동 복원 테스트 활성화
- 분기별 수동 DR 훈련
- 복원 절차 문서화

**최소 권한 원칙**
- IAM 정책으로 백업·복원 권한 제한
- 백업 볼트 접근 통제
- Vault Lock으로 백업 삭제 방지

**모니터링 및 알림**
- CloudWatch 대시보드 구성
- 백업 실패 즉시 알림
- 정기 백업 상태 리뷰

## AWS Backup vs 개별 서비스 백업

| 항목 | AWS Backup | 개별 서비스 (EBS 스냅샷, RDS 백업 등) |
|------|-----------|--------------------------------|
| 관리 | 중앙 통합 관리 | 서비스별 개별 관리 |
| 자동화 | 정책 기반 자동화 | 수동 또는 서비스별 자동화 |
| 크로스 서비스 | 모든 지원 서비스 통합 | 서비스별 독립 |
| 규정 준수 | 통합 리포트 | 서비스별 개별 추적 |
| 복잡성 | 단순 (단일 인터페이스) | 복잡 (여러 콘솔·API) |

## 요약

AWS Backup은 여러 AWS 서비스(EC2, RDS, DynamoDB, EFS 등)와 하이브리드 워크로드의 백업을 중앙에서 통합 관리·자동화하는 완전 관리형 백업 플랫폼이다. 정책 기반 스케줄링, 크로스 리전·크로스 계정 백업, 불변 백업을 통한 랜섬웨어 방어, 자동 복원 테스트, 규정 준수 리포팅 등 엔터프라이즈급 데이터 보호 기능을 제공하며, 재해 복구·비즈니스 연속성·규제 준수를 위한 필수 서비스다.
