# AWS Cognito란?

## 개념 정의
**AWS Cognito**는 웹 및 모바일 애플리케이션을 위한 **완전 관리형 인증 및 권한 부여 서비스**다. 사용자 가입, 로그인, 액세스 제어를 간단하게 구현할 수 있도록 지원하는 자격증명 플랫폼이다.

복잡한 인증 시스템을 직접 구축할 필요 없이 OAuth 2.0, OpenID Connect, SAML 등 표준 프로토콜을 활용해 안전한 사용자 관리를 제공한다.

## 핵심 구성 요소

### **사용자 풀 (User Pool)**
- **사용자 인증 및 관리**를 담당하는 사용자 디렉터리다
- 회원가입, 로그인, 비밀번호 재설정 등 기본 기능을 제공한다
- **JWT(JSON Web Token)** 형태로 인증 토큰을 발급한다
- 소셜 로그인(Google, Facebook, Apple, Amazon) 연동 지원
- **Multi-Factor Authentication(MFA)** 및 사용자 속성 관리 가능

### **자격 증명 풀 (Identity Pool)**
- 인증된 사용자에게 **AWS 서비스 접근 권한**을 부여한다
- 임시 AWS 자격 증명을 제공하여 S3, DynamoDB 등에 직접 접근 가능
- 익명 사용자 및 인증된 사용자 모두 지원
- IAM 역할과 연동하여 세밀한 권한 제어 가능

## 인증 토큰 종류

### **ID 토큰 (ID Token)**
- 사용자가 누구인지 식별하는 토큰
- 사용자 속성 정보(이름, 이메일 등)를 포함

### **액세스 토큰 (Access Token)**  
- API 및 리소스 접근 권한을 부여하는 토큰
- 특정 범위(scope)와 권한을 정의

### **새로 고침 토큰 (Refresh Token)**
- 만료된 토큰을 갱신하는 데 사용
- 장기간 인증 상태 유지 가능

## 주요 기능

### **소셜 로그인 통합**
- Google, Facebook, Apple, Amazon 계정으로 로그인 지원
- 기존 소셜 계정과 Cognito 사용자를 연결 가능
- OAuth 2.0 표준 프로토콜 사용

### **엔터프라이즈 연동**
- **SAML 2.0** 및 **OpenID Connect** 지원
- 기존 AD(Active Directory)나 기업 IdP와 SSO 연동
- 직원 계정 관리를 위한 엔터프라이즈급 기능

### **보안 강화**
- **MFA (Multi-Factor Authentication)** 지원
- SMS, TOTP, 하드웨어 토큰을 통한 2차 인증
- 비밀번호 정책 및 계정 잠금 기능
- 의심스러운 로그인 감지 및 차단

## 아키텍처 패턴

### **프론트엔드 직접 인증**
- 클라이언트가 Cognito와 직접 통신
- 구현이 간단하지만 Pool ID가 노출됨
- 단순한 앱에 적합

### **백엔드를 통한 인증**
- 백엔드 서버가 Cognito와 통신 후 클라이언트에 결과 전달
- Pool ID 노출 방지 및 보안성 향상
- 추가 로직 처리 가능

### **Lambda + API Gateway 패턴**
- 서버리스 환경에서 Lambda 함수로 인증 처리
- API Gateway와 연동하여 토큰 기반 접근 제어
- 확장성과 비용 효율성 제공

## 주요 활용 사례

### **모바일/웹 애플리케이션**
- 사용자 회원가입 및 로그인 시스템
- 프로필 관리 및 사용자 속성 저장
- 소셜 로그인을 통한 간편 가입

### **SaaS 애플리케이션**
- 멀티 테넌트 환경의 사용자 관리
- 조직별 사용자 그룹 및 권한 관리
- 엔터프라이즈 고객의 SSO 요구사항 충족

### **IoT 및 모바일 백엔드**
- 디바이스 인증 및 데이터 접근 제어
- 개인화된 콘텐츠 제공
- 사용자별 AWS 리소스 접근 권한 부여

## 주요 장점

### **개발 편의성**
- 복잡한 인증 로직 구현 불필요
- SDK 및 다양한 프레임워크 지원
- 사전 구축된 UI 컴포넌트 제공

### **확장성**
- 수억 명의 사용자까지 자동 확장
- 글로벌 분산 아키텍처로 고가용성 보장
- 트래픽 급증 시에도 안정적 처리

### **비용 효율성**
- 사용량 기반 과금 모델
- 프리 티어로 월 5만 MAU까지 무료
- 인프라 관리 비용 절약

## 제한사항 및 고려사항

### **커스터마이징 제약**
- 제공되는 기능 범위 내에서만 사용 가능
- 복잡한 인증 플로우 구현에 한계
- UI 커스터마이징 옵션 제한

### **비용 고려사항**
- MAU(Monthly Active Users) 기반 과금
- SMS MFA 사용 시 추가 비용 발생
- 대규모 사용자 기반에서는 비용 검토 필요

### **벤더 종속성**
- AWS 생태계에 강하게 결합
- 다른 클라우드 환경으로 이전 시 어려움
- 표준 프로토콜 준수하지만 AWS 특화 기능 존재

AWS Cognito는 **인증과 권한 관리의 복잡성을 해결**하고, 개발자가 핵심 비즈니스 로직에 집중할 수 있게 해주는 필수적인 서비스로, 현대적인 애플리케이션 개발에 필요한 도구다.
