# AWS ElastiCache란?

## 개념 정의
**AWS ElastiCache**는 클라우드에서 **완전 관리형 인메모리 캐싱 서비스**다. 메모리(RAM)에 데이터를 저장하여 마이크로초 단위의 초고속 데이터 액세스를 제공한다.

주로 데이터베이스 부하를 줄이고 애플리케이션 성능을 향상시키기 위해 사용하는 캐싱 계층이다.

## 지원 엔진

### **Redis**
- **다양한 데이터 구조** 지원 (String, Hash, List, Set, Sorted Set)
- **데이터 지속성** 및 백업/복원 지원
- **Multi-AZ** 및 읽기 전용 복제본 지원
- **Pub/Sub 메시징** 기능 제공
- 복잡한 데이터 구조와 고가용성이 필요한 경우 적합

### **Memcached**  
- **단순한 Key-Value** 구조만 지원
- **멀티스레딩** 지원으로 단일 노드 성능 우수
- 백업/복원 및 지속성 기능 없음
- 단순한 캐싱과 수평 확장이 필요한 경우 적합

### **Valkey**
- Redis에서 포크된 새로운 오픈소스 엔진
- Redis OSS와 호환되는 최신 엔진

## 핵심 특징

### **인메모리 성능**
- **마이크로초 단위 응답 시간**으로 극고속 데이터 액세스
- 디스크 기반 DB보다 **100~1000배 빠른** 처리 속도
- **초당 수백만 개의 작업** 처리 가능

### **완전 관리형 서비스**
- 하드웨어 프로비저닝, 소프트웨어 패치, 모니터링 자동화
- 장애 감지 및 복구를 AWS가 자동 처리
- 백업 및 복원 관리 지원

### **고가용성**
- **Multi-AZ 설정** 시 99.99% 가용성 제공
- 자동 장애 조치(Failover) 지원
- 읽기 전용 복제본을 통한 부하 분산

## 배포 옵션

### **서버리스**
- 용량 계획 및 관리 불필요
- **1분 이내**에 캐시 생성 가능
- 3개 가용 영역에 자동 데이터 중복 저장
- 사용량에 따른 자동 확장/축소

### **자체 설계 클러스터**
- 인스턴스 유형과 크기 직접 선택
- 클러스터 구성과 확장 전략 커스터마이징
- 더 세밀한 성능 튜닝 가능

## 주요 활용 사례

### **데이터베이스 캐싱**
- 자주 조회되는 DB 쿼리 결과를 캐싱
- DB 부하 감소 및 응답 시간 단축
- Read-heavy 워크로드 성능 최적화

### **세션 관리**
- 웹 애플리케이션의 사용자 세션 저장
- 로드밸런서 뒤 여러 서버 간 세션 공유
- 로그인 상태, 장바구니 정보 등 관리

### **실시간 분석**
- 게임 리더보드, 실시간 순위 처리
- 스트리밍 데이터 임시 저장
- IoT 센서 데이터 버퍼링

### **API 응답 캐싱**
- 외부 API 호출 결과 캐싱
- 반복적인 계산 결과 저장
- CDN과 함께 사용하여 콘텐츠 캐싱

## 캐싱 전략

### **Cache-Aside (Lazy Loading)**
- 요청 시에만 캐시에 데이터를 로드
- 캐시 미스 시 DB에서 데이터 조회 후 캐시 저장
- **장점**: 필요한 데이터만 캐싱, 메모리 효율적
- **단점**: 첫 요청 시 지연, 데이터 일관성 이슈 가능

### **Write-Through**
- DB 쓰기와 동시에 캐시에도 업데이트
- **장점**: 캐시 데이터가 항상 최신 상태
- **단점**: 쓰기 성능 저하, 사용하지 않는 데이터도 캐싱

### **Write-Behind (Write-Back)**
- 캐시에만 먼저 쓰고 나중에 DB에 비동기 저장
- **장점**: 빠른 쓰기 성능
- **단점**: 데이터 손실 위험, 복잡한 구현

## 비용 구조

### **온디맨드 모드**
- 사용한 만큼만 시간당 요금 지불
- 예측하기 어려운 워크로드에 적합
- 최소 요금이나 장기 약정 없음

### **예약 인스턴스**
- 1년/3년 약정으로 할인 혜택
- 예측 가능한 워크로드에 비용 효율적

### **서버리스 요금**
- 데이터 저장량 및 요청 수에 따른 과금
- 용량 계획 불필요로 운영 비용 절감

## 모니터링 및 관리

### **CloudWatch 통합**
- CPU 사용률, 메모리 사용률, 캐시 히트율 등 메트릭 제공
- 알람 설정을 통한 자동 대응
- 성능 최적화를 위한 인사이트 제공

### **Enhanced Monitoring**
- 실시간 엔진 메트릭 제공
- 세밀한 성능 분석 가능

## 보안 기능

### **네트워크 보안**
- **VPC 내 배포**로 네트워크 격리
- 보안 그룹을 통한 액세스 제어
- 서브넷 그룹으로 AZ별 배치 관리

### **데이터 보안**
- **전송 중 암호화** (TLS/SSL)
- **저장 중 암호화** (at-rest encryption)
- **Redis AUTH**를 통한 인증 지원

### **액세스 제어**
- IAM 기반 리소스 접근 제어
- 서브넷 그룹을 통한 네트워크 레벨 격리

ElastiCache는 **극고속 데이터 액세스**가 필요한 현대 애플리케이션에서 필수적인 성능 향상 도구로, DB 부하 분산과 사용자 경험 개선을 동시에 달성하는 핵심 서비스다.
