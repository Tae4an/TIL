# AWS Aurora란?

## 개념 정의
**Amazon Aurora**는 AWS에서 직접 개발한 **MySQL 및 PostgreSQL과 호환되는 완전 관리형 관계형 데이터베이스 엔진**이다. 클라우드를 위해 특별히 설계되어 상용 등급 데이터베이스의 성능과 가용성을 오픈소스 데이터베이스의 단순성 및 비용 효율성으로 제공한다.

기존 애플리케이션을 거의 변경하지 않고도 **MySQL의 처리량을 최대 5배**, **PostgreSQL의 처리량을 최대 3배** 향상시킬 수 있다.

## 핵심 아키텍처

### **데이터베이스와 스토리지 분리**
- 데이터베이스 인스턴스와 스토리지가 분리된 혁신적인 아키텍처를 채택한다
- **클러스터 볼륨**이라는 특수한 스토리지 구조를 통해 여러 인스턴스가 동일한 스토리지를 공유한다
- 각 **보호 그룹(Protection Group) 10GB** 단위로 스토리지를 관리한다

### **분산 스토리지 시스템**
- **3개 가용 영역에 각각 2개씩 총 6개의 데이터 복사본**을 자동 생성한다
- 분산 SAN(Storage Area Network) 방식으로 설계되어 높은 내구성을 보장한다
- 스토리지는 **최대 128 TiB**까지 자동으로 확장된다

## Aurora DB 클러스터 구조

### **기본 DB 인스턴스 (Primary)**
- **읽기 및 쓰기** 작업을 모두 담당하는 마스터 인스턴스다
- 클러스터 볼륨의 모든 데이터 수정을 실행한다
- 각 Aurora 클러스터마다 **하나의 기본 DB 인스턴스**만 존재한다

### **Aurora 복제본 (Read Replica)**
- **읽기 작업만** 지원하는 읽기 전용 인스턴스다
- 기본 DB 인스턴스와 동일한 스토리지 볼륨에 연결된다
- **최대 15개까지** Aurora 복제본을 구성할 수 있다
- 기본 인스턴스 장애 시 **30초 이내**에 자동 페일오버가 수행된다

## 주요 특징

### **뛰어난 성능**
- MySQL 대비 최대 **5배**, PostgreSQL 대비 최대 **3배** 빠른 처리량을 제공한다
- 고성능 SSD 기반 분산 스토리지로 저지연 I/O를 실현한다
- 자동 스토리지 확장으로 성능 병목 현상을 제거한다

### **높은 가용성과 내구성**
- **99.99%의 가용성**을 목표로 설계되었다
- 데이터 손실 없이 2개의 데이터 사본 손실을 견딜 수 있다
- 읽기 가용성에 3개의 데이터 사본 손실까지 견딜 수 있다
- 자체 복구 스토리지로 데이터 손상을 자동으로 감지하고 수정한다

### **보안 강화**
- **전송 중 및 저장 중 데이터 암호화** 지원한다
- AWS KMS를 통한 키 관리 통합을 제공한다
- VPC 내에서 네트워크 격리를 보장한다
- IAM을 통한 세밀한 액세스 제어가 가능하다

## 고급 기능

### **Aurora Serverless**
- **사용량에 따라 자동으로 확장/축소**하는 서버리스 모드를 제공한다
- DB 인스턴스 관리 없이 사용한 만큼만 비용을 지불한다
- 간헐적이거나 예측 불가능한 워크로드에 적합하다

### **Aurora Global Database**
- **최대 5개 리전**에 걸쳐 데이터베이스를 복제할 수 있다
- **1초 미만의 대기 시간**으로 전 세계 사용자에게 서비스를 제공한다
- 재해 복구 시 **1분 이내**에 보조 리전이 기본 리전으로 승격될 수 있다

### **Aurora Database Cloning**
- **Copy-on-Write 기술**을 사용하여 빠르고 비용 효율적인 클론을 생성한다
- 테스트 및 개발 환경을 위한 스테이징 DB를 신속하게 구성할 수 있다
- 전체 복사 없이 원본 데이터를 참조하는 방식으로 동작한다

### **Aurora Machine Learning**
- **Amazon SageMaker**나 **Amazon Comprehend**와 통합하여 ML 기능을 제공한다
- SQL 쿼리를 통해 머신러닝 모델에 데이터를 전달하고 결과를 받을 수 있다
- 개인화 추천, 사기 탐지 등의 고급 분석이 가능하다

## Multi-Master vs Single-Master

### **Single-Master 클러스터 (기본)**
- 하나의 라이터 인스턴스가 모든 쓰기 작업을 처리한다
- 장애 시 자동 페일오버를 통해 읽기 전용 복제본이 라이터로 승격된다

### **Multi-Master 클러스터**
- **모든 DB 인스턴스가 쓰기 작업**을 수행할 수 있다
- 라이터 인스턴스 장애 시 페일오버 지연이 없다
- 쓰기 처리량이 높은 애플리케이션에 적합하다

## 주요 활용 사례

### **엔터프라이즈 애플리케이션**
- CRM, ERP, 공급망 관리와 같은 미션 크리티컬한 애플리케이션
- 높은 가용성과 일관된 성능이 요구되는 비즈니스 애플리케이션

### **SaaS 애플리케이션**
- 멀티 테넌트 아키텍처의 SaaS 서비스
- 유연한 확장성과 테넌트별 격리가 필요한 서비스

### **글로벌 분산 애플리케이션**
- 모바일 게임, 소셜 미디어 등 전 세계 사용자를 대상으로 하는 서비스
- 지역별 낮은 지연시간이 중요한 인터넷 규모 애플리케이션

## Aurora vs 기존 RDS 비교

| 특징 | Aurora | 기존 RDS |
|------|--------|----------|
| **성능** | MySQL 대비 5배, PostgreSQL 대비 3배 | 표준 성능 |
| **복제본 수** | 최대 15개 | MySQL: 5개, PostgreSQL: 5개 |
| **페일오버 시간** | 30초 이내 | 수분 소요 |
| **스토리지** | 자동 확장 (최대 128TB) | 수동 확장 필요 |
| **백업** | 지속적 백업, 35일 보관 | 자동 백업, 최대 35일 |
| **비용** | 상용 DB의 1/10 비용 | 표준 요금 |

## 비용 구조

### **비용 최적화 요소**
- **Aurora Serverless**로 사용량 기반 과금 가능
- **Reserved Instance**를 통한 장기 할인 혜택
- 상용 데이터베이스 대비 **1/10의 비용**으로 동일한 성능 제공
- 복제본을 통한 읽기 분산으로 비용 대비 성능 최적화

## 모니터링 및 관리

### **Performance Insights**
- 데이터베이스 성능에 대한 직관적인 대시보드를 제공한다
- 성능 병목 지점을 빠르게 식별하고 해결할 수 있다

### **Enhanced Monitoring**
- 실시간 운영체제 메트릭을 1초 단위로 제공한다
- CloudWatch와의 완전한 통합으로 포괄적인 모니터링이 가능하다

AWS Aurora는 **클라우드 네이티브 데이터베이스**의 혁신적인 모델로, 기존 데이터베이스의 제약을 뛰어넘는 성능과 가용성을 제공하면서도 운영 복잡성을 크게 줄여주는 차세대 데이터베이스 솔루션이다.
