# AWS Bastion Host란?

## 개념 정의
**Bastion Host(배스천 호스트)** 는 AWS VPC 환경에서 **프라이빗 서브넷에 위치한 리소스에 안전하게 접근하기 위한 보안 게이트웨이 역할**을 하는 EC2 인스턴스다. "Bastion"은 중세시대 성 외각을 보호하기 위해 돌출된 부분을 의미하며, 이름 그대로 내부 네트워크를 보호하는 요새 역할을 한다.

**점프 서버(Jump Server)** 또는 **점프 박스**라고도 불리며, 외부에서 내부 네트워크로의 유일한 접근 경로 역할을 수행한다.

## 핵심 특징

### **보안 게이트웨이 역할**
- 퍼블릭 서브넷에 위치하여 외부 인터넷과 직접 연결되는 **유일한 인스턴스**다
- 프라이빗 서브넷의 모든 리소스는 Bastion Host를 **반드시 경유해야만** 접근 가능하다
- 침입 차단 소프트웨어가 설치되어 **방화벽과 게이트 역할**을 동시에 수행한다

### **접근 제어 중앙화**
- 모든 SSH/RDP 접근을 **하나의 지점으로 집중**시켜 관리 복잡도를 줄인다
- 특정 IP 주소에서만 접근을 허용하거나 **다단계 인증(MFA)**을 적용할 수 있다
- **보안 그룹과 NACL**을 통한 엄격한 접근 제어를 구현한다

## 아키텍처 구조

### **네트워크 배치**
- **퍼블릭 서브넷**: Bastion Host가 위치하는 영역 (인터넷 게이트웨이 연결)
- **프라이빗 서브넷**: 보호받는 리소스들이 위치하는 영역 (직접 인터넷 접근 불가)
- VPC 내부 통신을 통해 Bastion Host에서 프라이빗 리소스로 접근

### **보안 그룹 설정**
- **Bastion Host**: 외부에서 SSH(22)/RDP(3389) 접근만 허용
- **프라이빗 인스턴스**: Bastion Host에서의 SSH 접근만 허용
- **최소 권한 원칙**을 적용하여 필요한 포트만 개방

## 주요 장점

### **보안 강화**
- **공격 표면 축소**: 외부 노출 지점을 하나로 제한하여 보안 위험 최소화
- **중앙집중식 보안 관리**: 하나의 지점에서 모든 보안 정책을 적용
- **접근 로그 및 모니터링**: 모든 접근 활동을 중앙에서 추적하고 감시

### **관리 효율성**
- **단일 접근 지점**: 여러 인스턴스에 대한 접근을 하나의 경로로 통합
- **일관된 보안 정책**: 모든 내부 리소스에 동일한 보안 기준 적용
- **운영 복잡도 감소**: 개별 인스턴스마다 보안 설정을 할 필요 없음

## 인증 방법

### **SSH Key 인증**
두 가지 주요 방법이 있다

#### **1. SSH Agent Forwarding (권장)**
- 로컬 PC의 SSH 키를 Bastion Host를 통해 **전달**하는 방식
- Bastion Host에 실제 키 파일을 저장하지 않아 **보안상 안전**함
- 키 손상 위험 최소화

#### **2. 키 복사 방식 (비권장)**
- Bastion Host에 직접 개인키를 복사하는 방식
- Bastion Host 침해 시 **모든 사용자 키가 노출**되는 위험성 존재

### **다단계 인증**
- **MFA(Multi-Factor Authentication)** 적용으로 추가 보안 계층 구성
- **IAM 역할**과 **Systems Manager Session Manager** 연동 가능

## 실제 활용 사례

### **데이터베이스 접근**
- 프라이빗 서브넷의 **RDS 인스턴스**에 DataGrip 등 GUI 도구로 접근
- 데이터베이스 관리 작업을 위한 안전한 경로 제공

### **서버 관리**
- 프라이빗 서브넷의 **웹 서버, 애플리케이션 서버** 관리
- 시스템 업데이트, 로그 확인, 설정 변경 등의 운영 작업

### **개발 환경 접근**
- 개발자들이 안전하게 개발 서버에 접근하는 통로
- 코드 배포, 디버깅, 테스트 등의 개발 업무 지원

## 주의사항 및 제한사항

### **단일 장애 지점 (SPOF)**
- Bastion Host에 장애 발생 시 **모든 내부 리소스 접근 불가**
- **Multi-AZ 배치**나 **Auto Scaling** 구성으로 가용성 확보 필요

### **성능 고려사항**
- 모든 트래픽이 하나의 지점을 경유하므로 **병목 현상** 가능성
- 적절한 인스턴스 타입 선택과 **로드 밸런싱** 고려 필요

### **보안 관리 부담**
- Bastion Host 자체가 **공격의 주요 타겟**이 될 수 있음
- **정기적인 보안 점검**과 **패키지 업데이트** 필수
- 불필요한 소프트웨어 제거 및 최소 구성 유지

## 대안 솔루션

### **AWS Systems Manager Session Manager**
- **브라우저 기반 셸 접근**으로 SSH 키 불필요
- IAM 기반 접근 제어와 **감사 로깅** 자동화
- 인바운드 포트 개방 없이도 안전한 접근 가능

### **AWS Client VPN**
- VPN 연결을 통한 프라이빗 네트워크 직접 접근
- Bastion Host 없이도 안전한 연결 제공

Bastion Host는 **전통적이고 검증된 보안 아키텍처 패턴**으로, 특히 규정 준수가 중요하거나 기존 운영 프로세스와의 호환성이 필요한 환경에서 핵심적인 역할을 하는 필수 보안 구성 요소다.
