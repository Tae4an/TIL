# Amazon Fraud Detector란?

## 개념 정의
Amazon Fraud Detector는 **머신러닝(ML)과 Amazon의 20년 이상 사기 탐지 전문 지식을 활용해 온라인 사기 행위를 실시간으로 탐지하는 완전 관리형 서비스**다. 별도의 ML 경험 없이도 과거 데이터만 제공하면 자동으로 사기 탐지 모델을 생성·학습·배포할 수 있으며, 밀리초 단위로 사기 위험 점수를 반환한다.

쉽게 말해 "온라인 결제, 계정 생성, 로그인 등에서 사기 행위를 AI로 자동 감지하고, 의심 거래를 차단·검토·승인하도록 실시간 의사결정을 돕는 AWS의 사기 방지 플랫폼"이다.

## 핵심 특징

**완전 관리형 ML 서비스**
- ML 전문 지식 없이도 사용 가능: 데이터만 업로드하면 자동으로 모델 생성·학습·배포
- AWS와 Amazon.com의 20년 사기 탐지 노하우가 내장된 사전 학습 모델 활용
- 모델 관리, 인프라 운영, 스케일링 등 AWS가 자동 처리

**자동 모델 생성 및 학습**
- 과거 거래 데이터(정상/사기 라벨링)를 업로드하면 자동으로 커스텀 ML 모델 생성
- 데이터 전처리, 피처 엔지니어링, 모델 선택, 하이퍼파라미터 튜닝 자동화
- 지속적 학습: 새로운 데이터가 추가되면 모델 자동 업데이트 및 성능 개선

**실시간 사기 예측**
- API 호출로 거래를 실시간 평가(밀리초 단위 응답)
- 사기 위험 점수(Risk Score) 반환: 0~1000 범위, 높을수록 사기 가능성 높음
- 배치 예측도 지원: 대량의 거래 데이터를 오프라인으로 평가

**데이터 자동 강화(Enrichment)**
- IP 주소 분석: 지리적 위치, 익명 프록시/VPN 사용 여부, IP 평판 등 자동 추출
- 디바이스 핑거프린팅: 동일 디바이스에서 여러 계정 생성 등 이상 패턴 탐지
- 이메일·전화번호 검증: 도메인 유효성, 일회용 이메일 여부 등 체크

**커스터마이저블 규칙 엔진**
- ML 모델 결과와 비즈니스 규칙을 결합해 최종 의사결정
- 규칙 예시: "위험 점수 > 700이면 차단", "점수 400~700이면 수동 검토", "점수 < 400이면 승인"
- 화이트리스트/블랙리스트, 거래 금액 임계값, 시간대 제한 등 커스텀 규칙 추가 가능

**사전 정의된 모델 템플릿**
- 일반적인 사기 유형별 템플릿 제공: 온라인 결제 사기, 신규 계정 사기, 계정 탈취 등
- 템플릿 선택 시 필요한 데이터 구조·피처 자동 안내
- 빠른 시작 가능: 수일~수주 내 프로덕션 배포

**Detector(탐지기) 구조**
- Detector = ML 모델 + 규칙 엔진 + 결과(Outcome) 정의
- 여러 버전 관리 가능, A/B 테스트 및 점진적 배포 지원
- 테스트 환경에서 검증 후 프로덕션 배포

**투명성 및 설명 가능성**
- 각 예측에 대해 "어떤 변수가 사기 판단에 영향을 미쳤는지" 설명 제공
- 변수 중요도(Variable Importance) 시각화
- 규칙·모델 성능 모니터링 및 감사 로그(CloudTrail)

**AWS 서비스 통합**
- Amazon S3: 과거 데이터 업로드, 배치 예측 결과 저장
- AWS Lambda: 실시간 이벤트 기반 사기 탐지 워크플로 구축
- Amazon EventBridge: 사기 탐지 결과를 타 시스템에 자동 전달
- Amazon SageMaker: 고급 사용자는 커스텀 ML 모델 통합 가능
- CloudWatch: 모델 성능 메트릭 모니터링

## 주요 활용 사례

**온라인 결제 사기 탐지**
- 의심스러운 결제 거래를 결제 처리 전에 차단
- 도용된 카드, 이상 결제 패턴, 고위험 IP/디바이스 탐지
- 합법적 거래는 빠르게 승인, 의심 거래는 추가 인증 요구

**신규 계정 사기 방지**
- 가짜 계정 생성(봇, 일회용 이메일, 동일 디바이스 다중 가입 등) 탐지
- 고위험 가입자에게 전화·이메일 인증 추가 요구
- 프로모션 남용, 사기 목적 대량 가입 차단

**계정 탈취(Account Takeover) 탐지**
- 로그인 시도 시 실시간 위험도 평가
- 이상 로그인 패턴(평소와 다른 위치/디바이스/시간대) 감지
- 합법적 사용자는 빠르게 로그인, 의심 케이스는 2단계 인증 요구

**평가판·로열티 프로그램 남용 방지**
- 무료 체험, 쿠폰, 포인트 등을 악용하는 계정 탐지
- 동일 사용자가 여러 계정으로 혜택 반복 수령 차단
- 남용 가능성 높은 계정에 혜택 제한 설정

**마켓플레이스 판매자 사기 탐지**
- 온라인 마켓플레이스에서 허위 판매자, 가짜 상품 리스팅 탐지
- 판매자 등록 시 신원 검증 자동화

**가짜 리뷰·콘텐츠 남용 탐지**
- 가짜 상품 리뷰, 스팸 콘텐츠 게시 자동 감지
- 대량 리뷰 작성 계정, 비정상 패턴 차단

## 기본 워크플로

### 1. 데이터 준비 및 업로드
- 과거 거래 데이터를 CSV 형식으로 준비(정상/사기 라벨링 포함)
- S3에 업로드 후 Fraud Detector에 연결
- 필수 필드: 거래 ID, 타임스탬프, 이벤트 타입, 라벨(사기/정상)
- 선택 필드: 사용자 정보, 결제 정보, IP, 디바이스 등

### 2. 모델 타입 및 템플릿 선택
- 사용 사례에 맞는 모델 템플릿 선택(온라인 결제, 신규 계정, 계정 탈취 등)
- 권장 데이터 구조 및 피처 자동 안내

### 3. 모델 학습(Training)
- Fraud Detector가 자동으로 데이터 전처리·피처 생성·모델 학습
- 여러 ML 알고리즘 자동 비교 후 최적 모델 선택
- 학습 완료 후 모델 성능 지표(정확도, AUC, 정밀도/재현율 등) 제공

### 4. 규칙 및 결과(Outcome) 정의
- 비즈니스 규칙 추가: 위험 점수 임계값, 화이트리스트 등
- 결과 정의: "승인(Approve)", "차단(Deny)", "검토(Review)", "추가 인증 요구" 등

### 5. Detector 생성 및 배포
- 모델 + 규칙 + 결과를 묶어 Detector 생성
- 테스트 환경에서 검증 후 프로덕션 배포

### 6. 실시간 예측 API 호출
```json
// 예측 요청
POST /predict
{
  "detectorId": "my_payment_detector",
  "eventId": "txn_12345",
  "eventTimestamp": "2025-12-09T21:30:00Z",
  "eventVariables": {
    "email": "user@example.com",
    "ip_address": "192.0.2.1",
    "amount": "299.99"
  }
}

// 응답
{
  "riskScore": 720,
  "outcomes": ["review"],
  "ruleResults": [...],
  "modelScores": [...]
}
```

### 7. 모니터링 및 개선
- CloudWatch로 모델 성능 추적
- 새로운 사기 패턴 발견 시 추가 데이터로 재학습
- 규칙 조정 및 A/B 테스트

## 비용 구조

**프리 티어**
- 매월 최초 30,000건의 예측 무료

**유료 요금**
- 예측 요청당 과금: 실시간 예측 $7.50 per 1,000 predictions (첫 30,000건 이후)
- 모델 학습: 데이터 처리 및 학습 시간에 따른 과금
- 스토리지: S3 저장 비용 별도

## 보안 및 운영 모범 사례

**데이터 보안**
- 전송 중/저장 시 암호화(TLS, KMS)
- IAM 역할로 최소 권한 원칙 적용
- CloudTrail로 모든 API 호출 감사

**모델 품질 관리**
- 충분한 양의 라벨링 데이터 제공(최소 수천~수만 건 권장)
- 사기/정상 비율 불균형 시 오버샘플링·언더샘플링 기법 활용
- 주기적 재학습으로 최신 사기 패턴 반영

**규칙 최적화**
- False Positive(오탐) vs False Negative(미탐) 균형 조정
- 비즈니스 임계값을 실험 데이터로 검증 후 적용
- 화이트리스트로 VIP 고객 등 예외 처리

**성능 모니터링**
- CloudWatch 메트릭으로 API 응답 시간, 오류율 추적
- 모델 드리프트 감지: 시간 경과에 따른 성능 저하 모니터링
- A/B 테스트로 신규 모델·규칙 효과 검증

**프라이버시 준수**
- 개인정보는 필요 최소한만 수집
- GDPR, CCPA 등 규정 준수를 위한 데이터 보존·삭제 정책 수립

## 유사 서비스와의 차이

| 서비스 | 목적 | 차이점 |
|--------|------|--------|
| Amazon GuardDuty | AWS 환경 위협 탐지 | 인프라·계정 보안 중심 |
| Amazon Macie | 민감 데이터 탐지 | S3 내 개인정보 스캔 |
| Amazon Fraud Detector | 온라인 사기 탐지 | 비즈니스 거래·이벤트 사기 탐지 |
| Amazon SageMaker | 범용 ML 플랫폼 | 모든 ML 작업, 직접 모델 개발 |

Fraud Detector는 **비즈니스 애플리케이션의 거래·사용자 행동에 대한 사기 탐지 전용** 서비스다.

## 요약

Amazon Fraud Detector는 ML 전문 지식 없이도 온라인 사기를 빠르고 정확하게 탐지할 수 있는 완전 관리형 서비스로, Amazon의 20년 노하우와 자동화된 ML을 결합해 실시간 사기 방지 체계를 손쉽게 구축할 수 있는 강력한 플랫폼이다.
