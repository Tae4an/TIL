# AWS Neptune란?

## 개념 정의
**AWS Neptune**은 AWS에서 제공하는 **완전 관리형 그래프 데이터베이스 서비스**다. 관계형 데이터베이스가 테이블과 행으로 데이터를 저장하는 것과 달리, Neptune은 **노드(Node)와 엣지(Edge)** 로 구성된 그래프 구조로 데이터를 저장하고 처리한다.

수십억 개의 관계를 밀리초 단위로 검색하고 쿼리할 수 있어, **고도로 연결된 데이터셋**을 다루는 애플리케이션에 최적화되어 있다.

## 핵심 특징

### **그래프 데이터 모델 지원**
- **Property Graph**: 노드와 엣지에 속성을 저장하는 모델
- **RDF(Resource Description Framework)**: W3C 표준 그래프 모델
- 두 모델을 동시에 지원하여 다양한 그래프 애플리케이션 구축 가능

### **다양한 쿼리 언어**
- **Apache TinkerPop Gremlin**: Property Graph용 쿼리 언어
- **SPARQL**: RDF용 W3C 표준 쿼리 언어  
- **openCypher**: Neo4j에서 개발된 인기 있는 그래프 쿼리 언어
- SQL보다 **복잡한 관계 쿼리를 간단하게** 표현 가능

### **고성능 및 확장성**
- **초당 100,000개 이상**의 그래프 쿼리 처리 가능
- **최대 15개 읽기 전용 복제본** 지원으로 읽기 성능 확장
- **128TB까지 자동 스토리지 확장** (일부 리전 제외)
- 인메모리 최적화 아키텍처로 빠른 쿼리 실행

## 배포 옵션

### **Neptune Database (기본)**
- 전통적인 인스턴스 기반 배포 방식
- 예측 가능한 워크로드에 적합
- 세밀한 인스턴스 구성과 제어 가능

### **Neptune Serverless**
- **온디맨드로 자동 확장**하는 서버리스 옵션
- 애플리케이션 요구사항에 따라 용량이 자동 조정됨
- 사용한 만큼만 비용 지불로 **최대 90% 비용 절약** 가능
- 수십만 개의 쿼리까지 즉시 확장

## 주요 활용 사례

### **추천 엔진**
- 사용자, 상품, 구매 이력 간의 복잡한 관계 분석
- "이 상품을 구매한 고객이 함께 본 상품" 같은 추천 로직 구현
- 실시간 개인화 추천 시스템

### **사기 탐지**
- 금융 거래, 계정, 디바이스 간의 의심스러운 패턴 탐지
- 복잡한 사기 네트워크 분석 및 식별
- 실시간 리스크 평가 시스템

### **지식 그래프**
- 검색 엔진의 의미론적 검색 기능
- 기업 내 지식 관리 시스템
- AI/ML 모델의 컨텍스트 정보 제공

### **소셜 네트워킹**
- 친구 관계, 팔로우 관계 등 소셜 그래프 관리
- "친구의 친구" 같은 다단계 관계 쿼리
- 소셜 네트워크 분석 및 커뮤니티 탐지

### **네트워크 보안**
- IT 인프라의 연결 관계 시각화
- 보안 위협 전파 경로 분석
- 네트워크 취약점 및 공격 패턴 탐지

## 고가용성 및 내구성

### **Multi-AZ 배포**
- 3개 가용 영역에 데이터 자동 복제
- **99.99% 이상 가용성** 보장
- 자동 장애 조치로 다운타임 최소화

### **연속 백업**
- 자동 증분 백업으로 특정 시점 복구 가능
- 백업 보존 기간 동안 언제든 복원 가능
- 수동 스냅샷 생성 및 관리 지원

## 보안 기능

### **네트워크 격리**
- **VPC 내 배포**로 네트워크 수준 격리
- 보안 그룹과 NACL을 통한 접근 제어
- HTTPS 암호화 통신 지원

### **데이터 보호**
- **저장 중 암호화**: AWS KMS 키로 데이터 암호화
- **전송 중 암호화**: TLS/SSL 프로토콜 사용
- IAM을 통한 세밀한 액세스 제어

## 데이터 로딩

### **벌크 로딩**
- **S3에서 대용량 데이터** 병렬 로딩 지원
- Property Graph용 CSV 형식 지원
- RDF용 N-Triples, N-Quads, Turtle 형식 지원
- REST API를 통한 간편한 데이터 로딩

## Neptune vs 관계형 데이터베이스

| 특징 | Neptune | RDS |
|------|---------|-----|
| **데이터 모델** | 그래프 (노드-엣지) | 관계형 (테이블-행) |
| **관계 쿼리** | 직관적이고 빠름 | 복잡한 JOIN 필요 |
| **확장성** | 관계 중심 확장 | 데이터 중심 확장 |
| **쿼리 언어** | Gremlin, SPARQL, openCypher | SQL |
| **적합한 용도** | 복잡한 관계 분석 | 정형 데이터 처리 |

## 비용 구조

### **인스턴스 기반**
- EC2 인스턴스 시간당 요금
- 스토리지 사용량에 따른 추가 요금
- I/O 요청에 대한 요금

### **서버리스**
- 실제 사용한 컴퓨팅 용량에 대해서만 과금
- 스토리지는 사용량 기반 요금
- 유휴 시간에 대한 비용 없음

AWS Neptune은 **관계 중심의 복잡한 데이터 분석**이 필요한 현대적 애플리케이션에서 핵심적인 역할을 하는 전문화된 그래프 데이터베이스 서비스다.
