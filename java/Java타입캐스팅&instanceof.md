# Java 타입 캐스팅 & instanceof
## 📚 타입 캐스팅의 정의

> 💡 하나의 데이터 타입을 다른 데이터 타입으로 변환하는 과정
>

자바에서는 두 가지 유형의 타입 캐스팅이 있습니다:

1. 🔼 자동 타입 변환 (Promotion)
2. 🔽 강제 타입 변환 (Casting)

[자바 자동 타입 변환 (Promotion)](https://www.notion.so/Promotion-1776c0be4bdb4de39402a071bf64e861?pvs=21)

[자바 강제 타입 변환 (Casting)](https://www.notion.so/Casting-d2ae5f4bc3a74d5c8311b990ba4584d1?pvs=21)

## ⚠️ 주의사항

1. 📉 **데이터 손실**: 강제 변환 시 데이터 손실 가능성 확인
2. 🧮 **연산 시 자동 변환**: 큰 타입 기준으로 자동 변환
3. 🔤 **문자열 연산**: 문자열 피연산자 존재 시 문자열로 자동 변환

## 🔗 참조 타입의 캐스팅

1. 🔼 **업캐스팅**: 자식 → 부모 클래스 (자동 변환)
2. 🔽 **다운캐스팅**: 부모 → 자식 클래스 (명시적 캐스팅)

---

## 🔍 instanceof 연산자

### 📚 정의

> 💡 객체가 특정 클래스의 인스턴스인지 확인하는 연산자
>

```java
object instanceof Class

```

- 📊 Boolean 값 반환
- ✅ 객체가 지정된 클래스 또는 하위 클래스의 인스턴스인 경우 true 반환

### 🛠️ 사용 상황

1. 🏷️ **타입 확인**: 객체의 실제 타입 확인
2. ⬇️ **다운캐스팅 전 검사**: 안전성 확인
3. ⚠️ **예외 처리**: 특정 예외 타입 확인

### 🚫 사용 지양 이유

1. 🔓 **캡슐화 위반**: 내부 구현 노출 가능성
2. 🔄 **다형성 저해**: 다형성 원칙 위배
3. 🔧 **유지보수 어려움**: 새 타입 추가 시 검사 추가 필요

### 🔄 대안

1. 🧩 **다형성 활용**: 각 클래스에 필요 메소드 구현

```java
public interface Shape {
    double getArea();
}

public class Circle implements Shape {
    @Override
    public double getArea() {
        // 원의 면적 계산
    }
}

public class Rectangle implements Shape {
    @Override
    public double getArea() {
        // 사각형의 면적 계산
    }
}

```

1. 🎭 **전략 패턴**: 알고리즘 캡슐화, 런타임 선택
2. 👀 **방문자 패턴**: 객체 구조와 알고리즘 분리
3. 🔢 **열거형(Enum) 사용**: 타입을 열거형으로 정의, 동작 구현

---

> 🌟 핵심 포인트:
>
> - 타입 캐스팅은 데이터 타입 간 변환을 제공하지만, 데이터 손실 가능성에 주의해야 한다.
> - instanceof의 사용은 지양하고 다형성을 활용하면 코드의 유연성과 확장성이 향상된다.
> - 상황에 따라 instanceof와 타입 캐스팅의 적절한 사용이 필요할 수 있으므로, 상황을 잘 판단해야 한다.